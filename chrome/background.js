!function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="/",r(r.s=145)}({145:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(4);chrome.tabs.onUpdated.addListener(function(e,r,n){t.default.load("options").then(function(t){"complete"==r.status&&function(e){for(var r in t.plexUrls)if(e.indexOf(t.plexUrls[r])>-1)return!0;return!1}(n.url)&&chrome.tabs.executeScript(e,{file:"main.js"})})}),chrome.runtime.onMessage.addListener(function(e,r,n){return e.options?chrome.tabs.create({url:"chrome://extensions/?options="+chrome.runtime.id}):(t.default.load("options").then(function(r){var t="",o="";r&&Object.keys(r).length?e&&e.media?e.endpoint?"sonarr"===e.media.toLowerCase()?(t=r.api.sonarr_url,o=r.api.sonarr_key):"radarr"===e.media.toLowerCase()?(t=r.api.radarr_url,o=r.api.radarr_key):n({error:"Media unknown"}):n({error:"Endpoint has to be specified"}):n({error:"Media has to be specified"}):n({error:"Options has not been defined",options:r}),t&&o?fetch(t+e.endpoint,{method:"GET",headers:new Headers({"Content-Type":"application/json","X-Api-Key":o})}).then(function(e){return e.json()}).then(function(e){n({response:e,url:t,key:o})}).catch(function(e){n({error:e})}):n(t?{error:"Empty key"}:{error:"Empty url"})}),!0)}),chrome.runtime.onInstalled.addListener(function(e){"install"==e.reason&&chrome.tabs.create({url:"chrome://extensions/?options="+chrome.runtime.id})})},4:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t={api:{radarr_url:"http://192.168.0.30:7878/api/",radarr_base:"",radarr_key:"",sonarr_url:"http://192.168.0.30:8989/api/",sonarr_base:"",sonarr_key:""},plexUrls:[]},o={load:function(e){return new Promise(function(r){chrome.storage.sync.get(e,function(n){var o;o=n&&n[e]?n[e]:n,"options"===e?(Object.assign(t,o),r(t)):r(o)})})},save:function(e,r){return new Promise(function(n){chrome.storage.sync.set((t={},t[e]=r,t),function(){n(r)});var t})},get:function(){return t}};r.default=o}});